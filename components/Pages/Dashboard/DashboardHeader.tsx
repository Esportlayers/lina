import React, { ReactElement, useCallback } from "react";

import ActiveVoting from "./Header/ActiveVoting";
import Activity from "./Header/Activity";
import Divider from "./Header/Divider";
import GSIConnected from "./Header/GSIConnected";
import Link from 'next/link';

export default function DashboardHeader(): ReactElement {
    const onLogout = useCallback(() => {
        localStorage.removeItem('jwt');
        location.href = 'https://streamdota.com';
    }, []);

    return <header>
        <div className={'headerRow'}>
            <div className={'icons'}>
                <Link href={'/settings/account'}>
                    <svg width={'20px'} viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M487.4 315.7L444.8 291.1C449.1 267.9 449.1 244.1 444.8 220.9L487.4 196.3C492.3 193.5 494.5 187.7 492.9 182.3C481.8 146.7 462.9 114.5 438.2 87.7001C434.4 83.6001 428.2 82.6001 423.4 85.4001L380.8 110C362.9 94.6001 342.3 82.7001 320 74.9001V25.8001C320 20.2001 316.1 15.3001 310.6 14.1001C273.9 5.90006 236.3 6.30006 201.4 14.1001C195.9 15.3001 192 20.2001 192 25.8001V75.0001C169.8 82.9001 149.2 94.8001 131.2 110.1L88.7 85.5001C83.8 82.7001 77.7 83.6001 73.9 87.8001C49.2 114.5 30.3 146.7 19.2 182.4C17.5 187.8 19.8 193.6 24.7 196.4L67.3 221C63 244.2 63 268 67.3 291.2L24.7 315.8C19.8 318.6 17.6 324.4 19.2 329.8C30.3 365.4 49.2 397.6 73.9 424.4C77.7 428.5 83.9 429.5 88.7 426.7L131.3 402.1C149.2 417.5 169.8 429.4 192.1 437.2V486.4C192.1 492 196 496.9 201.5 498.1C238.2 506.3 275.8 505.9 310.7 498.1C316.2 496.9 320.1 492 320.1 486.4V437.2C342.3 429.3 362.9 417.4 380.9 402.1L423.5 426.7C428.4 429.5 434.5 428.6 438.3 424.4C463 397.7 481.9 365.5 493 329.8C494.5 324.3 492.3 318.5 487.4 315.7V315.7ZM256 336C211.9 336 176 300.1 176 256C176 211.9 211.9 176 256 176C300.1 176 336 211.9 336 256C336 300.1 300.1 336 256 336Z" />
                    </svg>
                </Link>
            </div>
            {/*<div className={'icons'}>
                <Link href={'/settings/voteSystem'}>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 9.99991C20 15.5228 15.5229 19.9999 10 19.9999C4.47714 19.9999 0 15.5228 0 9.99991C0 4.47706 4.47714 -8.80362e-05 10 -8.80362e-05C12.0019 -0.00177205 13.9576 0.601409 15.6107 1.7304L16.8297 0.511426C16.9507 0.390441 17.1148 0.322472 17.2859 0.322472C17.457 0.322472 17.6211 0.390441 17.7421 0.511426L18.1982 0.967496C18.3191 1.08849 18.3871 1.25258 18.3871 1.42369C18.3871 1.59479 18.3191 1.75888 18.1982 1.87987L10.0783 9.99975L10.078 9.99991H12.5806C12.5821 10.5069 12.4341 11.0031 12.1553 11.4266C11.8764 11.85 11.479 12.1819 11.0126 12.3809C10.5463 12.5798 10.0317 12.637 9.53301 12.5453C9.03437 12.4535 8.57379 12.2169 8.2088 11.865C7.8438 11.5131 7.59055 11.0614 7.48067 10.5665C7.37079 10.0715 7.40915 9.55514 7.59096 9.08184C7.77276 8.60854 8.08996 8.19928 8.50294 7.90515C8.91593 7.61103 9.4064 7.44507 9.91313 7.42801L11.306 6.03514C10.8863 5.88735 10.445 5.81005 10 5.80636C9.17059 5.80636 8.35981 6.05231 7.67019 6.5131C6.98056 6.9739 6.44307 7.62884 6.12567 8.39511C5.80827 9.16138 5.72522 10.0046 5.88703 10.818C6.04884 11.6315 6.44823 12.3787 7.03471 12.9652C7.62119 13.5517 8.36841 13.9511 9.18188 14.1129C9.99535 14.2747 10.8385 14.1916 11.6048 13.8742C12.3711 13.5568 13.026 13.0193 13.4868 12.3297C13.9476 11.6401 14.1935 10.8293 14.1935 9.99991H16.129C16.129 12.9817 13.9979 15.4607 11.177 16.0103C11.0289 15.8446 10.8475 15.7121 10.6447 15.6214C10.4419 15.5307 10.2222 15.4838 10 15.4838C9.77781 15.4838 9.55813 15.5307 9.35531 15.6214C9.15249 15.7121 8.9711 15.8446 8.823 16.0103C7.62835 15.7759 6.53059 15.191 5.66974 14.3302C4.8089 13.4693 4.224 12.3716 3.98965 11.1769C4.15528 11.0288 4.28779 10.8474 4.37851 10.6446C4.46923 10.4418 4.51613 10.2221 4.51613 9.99991C4.51613 9.77772 4.46923 9.55804 4.37851 9.35522C4.28779 9.1524 4.15528 8.97101 3.98965 8.82292C4.5392 6.00199 7.01825 3.87088 10 3.87088C11.0048 3.87088 11.9352 4.14014 12.7686 4.57259L14.2057 3.13546C12.9428 2.35172 11.4863 1.9361 10 1.9354C6.01011 1.9354 2.69649 4.85099 2.05598 8.66163C1.60597 8.94782 1.29032 9.42712 1.29032 9.99991C1.29032 10.5727 1.60597 11.052 2.05598 11.3382C2.33636 12.9882 3.1227 14.5103 4.30617 15.6937C5.48963 16.8772 7.0117 17.6635 8.66171 17.9439C8.94791 18.3939 9.42721 18.7096 10 18.7096C10.5728 18.7096 11.0521 18.3939 11.3383 17.9439C15.1489 17.3034 18.0645 13.9898 18.0645 9.99991H20Z" />
                    </svg>
                </Link>
            </div>*/}
            <div className={'icons'} onClick={onLogout}>
                <svg height="17" viewBox="0 0 27 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.375 20H5C2.23958 20 0 17.7604 0 15V5C0 2.23958 2.23958 0 5 0H9.375C9.71875 0 10 0.28125 10 0.625V2.70833C10 3.05208 9.71875 3.33333 9.375 3.33333H5C4.07813 3.33333 3.33333 4.07812 3.33333 5V15C3.33333 15.9219 4.07813 16.6667 5 16.6667H9.375C9.71875 16.6667 10 16.9479 10 17.2917V19.375C10 19.7187 9.71875 20 9.375 20ZM15.5156 4.21354L19.5573 7.91667H9.58333C8.89063 7.91667 8.33333 8.47396 8.33333 9.16667V10.8333C8.33333 11.526 8.89063 12.0833 9.58333 12.0833H19.5573L15.5156 15.7865C14.9896 16.2656 14.974 17.0885 15.474 17.5937L16.6146 18.7344C17.099 19.2188 17.8906 19.224 18.3802 18.7396L26.2969 10.8854C26.7917 10.3958 26.7917 9.59896 26.2969 9.10937L18.3854 1.26563C17.8958 0.78125 17.1094 0.78125 16.6198 1.27083L15.4792 2.41146C14.974 2.91146 14.9948 3.73437 15.5156 4.21354V4.21354Z" />
                </svg>
            </div>
            <Divider />
            <GSIConnected />
            <ActiveVoting withManualStart />
            <Activity />
        </div>
        <style jsx>{`
            header {
                background-color: var(--anthrazit);
                width: 100%;
                padding: .75rem 8rem .75rem 0;
                box-shadow: 0 0 15px rgba(0,0,0,.3);
                font-size: .95rem;
                height: 3rem;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }    

            .headerRow {
                display: flex;
                align-items: center;
                padding: 0 1rem;
                height: 100%;
            }
            
            .icons {
                cursor: pointer;
            }

            .icons + .icons {
                margin-left: .75rem;
            }

            svg {
                fill: #FFF;
                transition: fill 120ms ease-in-out;
            }

            .icons:hover svg {
                fill: var(--primary-accent);
            }
        `}</style>
    </header>
}